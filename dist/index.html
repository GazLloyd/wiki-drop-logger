<!DOCTYPE html>
<html>
	<head>
		<style>
			#Settings,
			body {
				display: none;
			}
		</style>
		<meta http-equiv="Permissions-Policy" content="interest-cohort=(), user-id=()" />
		<script src='https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js'></script>
		<script>

			function readImage() {
				var input_image = document.getElementById('LootImage');
				if (input_image.getAttribute('src').length) {
				const base64string = input_image.getAttribute('src').split(',')[1];
				Tesseract.recognize(Buffer.from(base64string, 'base64'), 'eng', { logger: m => console.log(m) }).then(({data: { text } } ) => {
					console.log(text);
					setTimeout(() => {
						readImage();
					}, 10000)

				});
			}
			}

			document.addEventListener('DOMContentLoaded', function(){
				readImage();
			});

		</script>
	</head>
	<body id="app">
		<div id="output"></div>
		<div id="DropLog">
			<div id="Map">
				<h2>Map</h2>
			</div>
			<div id="Mob">
				<h2>NPC</h2>
			</div>
			<div id="Loot">
				<h2>Loot</h2>
				<img id="LootImage" src="">
			</div>
			<canvas id="Canvas"></canvas>
		</div>
		<div id="Settings">
			<div class="container">
			</div>
		</div>
		<script src="./main.js" defer></script>
	</body>
</html>
